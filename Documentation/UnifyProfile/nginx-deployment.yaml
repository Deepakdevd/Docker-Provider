apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx-deployment
  labels:
    app: nginx
spec:
  replicas: 3
  selector:
    matchLabels:
      app: nginx
  template:
    metadata:
      labels:
        app: nginx
    spec:
      nodeSelector:
       kubernetes.io/os: linux
      containers:
      - name: nginx
        image: nginx:1.14.2
        ports:
        - containerPort: 80
        env:
         - name: POD_NAME
           valueFrom:
            fieldRef:
              fieldPath: metadata.name
         - name: POD_NAMESPACE
           valueFrom:
            fieldRef:
              fieldPath: metadata.namespace
         - name: POD_UID
           valueFrom:
            fieldRef:
              fieldPath: metadata.uid
         - name: NODE_NAME
           valueFrom:
            fieldRef:
              fieldPath: spec.nodeName
         - name: OTEL_RESOURCE_ATTRIBUTES
           value: k8s.pod.name=$(POD_NAME),k8s.pod.uid=$(POD_UID),k8s.pod.namespace=$(POD_NAMESPACE),k8s.node.name=$(NODE_NAME)
         # programmatically inject k8s.deployment.name, k8s.replicaset.name, k8s.statefulstate.name, k8s.job.name, k8s.cronjob.name, k8s.daemonset.name dependening parent resource type



